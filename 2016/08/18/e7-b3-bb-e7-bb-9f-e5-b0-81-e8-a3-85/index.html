<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="过程： 第一步：安装VM虚拟机。(ctrl+Alt可以返回实体机)  选择自定义(高级)，下一步。选择Workstation9兼容性。下一步。  选择稍后安装操作系统。  更改名称和位置。下面的所有步骤默认(可以更改内存大小和处理器的配置，虚拟硬盘默认为60G)。然后选择将虚拟磁盘存储为单个文件。  然后移除打印机硬件,软盘驱动器，USB控制器，声卡，完成虚拟机的安装。 第二步：安装win7的母盘">
<meta property="og:type" content="article">
<meta property="og:title" content="系统封装">
<meta property="og:url" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="过程： 第一步：安装VM虚拟机。(ctrl+Alt可以返回实体机)  选择自定义(高级)，下一步。选择Workstation9兼容性。下一步。  选择稍后安装操作系统。  更改名称和位置。下面的所有步骤默认(可以更改内存大小和处理器的配置，虚拟硬盘默认为60G)。然后选择将虚拟磁盘存储为单个文件。  然后移除打印机硬件,软盘驱动器，USB控制器，声卡，完成虚拟机的安装。 第二步：安装win7的母盘">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_Image.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_f1452c64b9be4153f4fc62dc552b24fd.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_c53a2d23820a47a1bba01723dfcb052f.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_e510e3c78f727c37cef7c58ff6213d51.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_06b262fae90f07db81b165d28522b0f4.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_47de751de33991ca179ee29f697a99ef.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_8936e49dd36995d893fb1fb3cf2a8307.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_4d95436f1821b24c3616cf93c08f9367.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_c8e308d5bfa8f44c7544b467a94759e1.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_271018c4e29469240bcad029bafaad9a.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_199486f4f184d940f0ee0251227e5525.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_bf0ba52863300db78e1f5c575acd6986.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_one.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_two.png">
<meta property="og:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_3655c4b456a0dc773515250176dcecc5.png">
<meta property="og:updated_time" content="2018-08-04T06:14:34.966Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="系统封装">
<meta name="twitter:description" content="过程： 第一步：安装VM虚拟机。(ctrl+Alt可以返回实体机)  选择自定义(高级)，下一步。选择Workstation9兼容性。下一步。  选择稍后安装操作系统。  更改名称和位置。下面的所有步骤默认(可以更改内存大小和处理器的配置，虚拟硬盘默认为60G)。然后选择将虚拟磁盘存储为单个文件。  然后移除打印机硬件,软盘驱动器，USB控制器，声卡，完成虚拟机的安装。 第二步：安装win7的母盘">
<meta name="twitter:image" content="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_Image.png">






  <link rel="canonical" href="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>系统封装 | Hexo</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">系统封装
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-18 19:01:16" itemprop="dateCreated datePublished" datetime="2016-08-18T19:01:16+08:00">2016-08-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-08-04 14:14:34" itemprop="dateModified" datetime="2018-08-04T14:14:34+08:00">2018-08-04</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/那些年玩的东西/" itemprop="url" rel="index"><span itemprop="name">那些年玩的东西</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>过程：</strong></p>
<p>第一步：安装VM虚拟机。(ctrl+Alt可以返回实体机)</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_Image.png" alt=""><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_f1452c64b9be4153f4fc62dc552b24fd.png" alt=""></p>
<p>选择自定义(高级)，下一步。选择Workstation9兼容性。下一步。</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_c53a2d23820a47a1bba01723dfcb052f.png" alt=""><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_e510e3c78f727c37cef7c58ff6213d51.png" alt=""></p>
<p>选择稍后安装操作系统。</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_06b262fae90f07db81b165d28522b0f4.png" alt=""><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_47de751de33991ca179ee29f697a99ef.png" alt=""></p>
<p>更改名称和位置。下面的所有步骤默认(可以更改内存大小和处理器的配置，虚拟硬盘默认为60G)。然后选择将虚拟磁盘存储为单个文件。</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_8936e49dd36995d893fb1fb3cf2a8307.png" alt=""></p>
<p>然后移除打印机硬件,软盘驱动器，USB控制器，声卡，完成虚拟机的安装。</p>
<p>第二步：安装win7的母盘。</p>
<p>首先挂载一个pe.iso文件。虚拟机-&gt;电源-&gt;打开电源时进入固件选项。可以直接开进入bios。</p>
<p>然后分区。将60G的虚拟空间分区两个。一个25G。另一个35G。</p>
<p>然后虚拟机-&gt;可移动设备-&gt;CD。然后将win7的MDSN母盘挂载上去。然后重启。</p>
<p>安装win7的时候。跳过密匙输入。去掉当我联网时候自动激活选项。</p>
<p>更新选项选择以后提醒我。然后联网。</p>
<p>第三步：对系统进行手动设置和优化。</p>
<p>这是第一步！</p>
<p>计算机-&gt;管理-&gt;本地管理和组-&gt;用户-&gt;Administrator-&gt;属性-&gt;账户已禁用的勾去掉。</p>
<p>然后注销，已Administrator用户登陆系统。</p>
<p>然后控制面板-&gt;用户账户和家庭安全-&gt;删除掉LZD账户(选择删除文件，删除账户)。</p>
<p>右击-&gt;个性化-&gt;更改桌面图标。</p>
<p>右击开始菜单-&gt;属性-&gt;隐私勾全去了！</p>
<p>更改屏幕分辨率为1366X768.</p>
<p>右下角的输入法右击，去掉任务栏中的其他图标选项。</p>
<p>然后设置输入法。删除掉英语(美国)输入法。仅保留中文(简体，中国)。</p>
<p>计算机-&gt;属性-&gt;windows update-&gt;更改设置。从不检查更新，然后去掉允许所有用户在计算机上安装更新。</p>
<p>计算机-&gt;属性-&gt;高级系统设置-&gt;系统保护-&gt;配置。关闭系统保护，最大使用量为0，删除还原点!点击确定退出。</p>
<p>计算机-&gt;属性-&gt;高级系统设置-&gt;远程。去掉允许远程协助这台电脑。</p>
<p>计算机-&gt;属性-&gt;高级系统设置-&gt;硬件-&gt;设备安装设置。勾上使用增强的图标替换通用设备图标。</p>
<p>计算机-&gt;属性-&gt;高级系统设置-&gt;高级-&gt;启动和故障恢复。按照下图进行配置。</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_4d95436f1821b24c3616cf93c08f9367.png" alt=""><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_c8e308d5bfa8f44c7544b467a94759e1.png" alt=""></p>
<p>计算机-&gt;属性-&gt;高级系统设置-&gt;高级-&gt;性能设置-&gt;高级-&gt;虚拟内存.C和D盘按照下图设置。然后分别选择这个界面中的设置。然后点击确定退出。</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_271018c4e29469240bcad029bafaad9a.png" alt=""><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_199486f4f184d940f0ee0251227e5525.png" alt=""></p>
<p>然后注销，重新登录。</p>
<p>控制面板-&gt;系统与安全-&gt;操作中心-&gt;更改操作中心设置。去掉所有的勾！确定，退出。</p>
<p>控制面板-&gt;系统与安全-&gt;操作中心-&gt;更改用户账户控制设置。改为从不通知。</p>
<p>控制面板-&gt;系统与安全-&gt;操作中心-&gt;维护-&gt;设置。改为从不检查方案。</p>
<p>控制面板-&gt;外观和个性化-&gt;自定义任务栏上的图标-&gt;打开和关闭系统图标。去掉操作中心通知。打上始终在任务栏显示所有图标和通知。</p>
<p>控制面板-&gt;硬件和声音-&gt;自动播放。去掉为所有媒体和设备自动播放。保存退出。</p>
<p>控制面板-&gt;硬件和声音-&gt;电源选项-&gt;更改计划设置。更改关闭显示器时间。然后在更改高级电源设置中可以设置睡眠时间等。</p>
<p>控制面板-&gt;系统与安全-&gt;windows防火墙-&gt;打开或关闭windows防火墙。然后关闭windows防火墙。</p>
<p>控制面板-&gt;时钟，语言和区域-&gt;区域和语言-&gt;管理-&gt;复制设置。打上欢迎屏幕和系统账户，新建账户的勾。</p>
<p>控制面板-&gt;程序-&gt;打开和关闭windows功能。媒体功能中的windows DVD Maker和Media Center。游戏。XPS。删除后点击稍后重启！</p>
<p>点击确定，退出控制面板。</p>
<p>将Administrator下面的(我的文档，收藏夹，我的图片，下载，桌面)文件夹(右击-&gt;属性-&gt;位置)移动到D盘的对应位置。</p>
<p>然后重启！</p>
<p>然后开机检查上述后是不是生效了。</p>
<p>第四步：将准备好的软件弄到系统中。</p>
<p>关闭win7系统。然后编辑虚拟机设置。找到硬盘。将D盘映射为实体机的一个盘。然后把要用的东西复制进去以后断开映射。</p>
<p>第五步：手动精简win7驱动。</p>
<p><a href="系统封装_files/取得管理员权限.reg"><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_bf0ba52863300db78e1f5c575acd6986.png" alt="取得管理员权限.reg"></a>添加进去！</p>
<p>然后C\windows\inf文件夹取得管理员权限。右击属性-&gt;安全-&gt;高级-&gt;所有者-&gt;编辑。替换为Administrators(LZD-PC\Administrators),并勾上替换子容器和对象的所有者的勾！然后关闭！重新打开属性-&gt;安全-&gt;高级-&gt;权限-&gt;更改权限。然后把弹出界面的两个前后的勾都打上！然后关闭！重新打开属性-&gt;安全-&gt;高级&gt;权限-&gt;更改权限-&gt;编辑，为System和Administrators(LZD-PC\Administrators) 和Users(LZD-PC\user)勾上完全控制的勾！</p>
<p>C:\Windows\System32\DriverStore\FileRepository取得管理员权限。同上</p>
<p>C\windows\winxsx文件夹取得管理员权限。同上</p>
<ul>
<li>inf：一般我们总是认为INF文件是系统设备的驱动程序，其实这是错误的认识，Windows之所以在安装某些硬件的驱动时提示需要INF文件是因为INF文件为该设备提供了一个全面描述硬件参数和相应驱动文件(DLL文件)的信息。在INF文件中指明了硬件驱动该如何安装到系统中，源文件在哪里、安装到哪一个文件夹中、怎样在注册表中加入自身相关信息等等</li>
<li>FileRepository ：首先这个是系统的驱动安装包库,插上新的硬件后会到这里来寻找有没有合适的驱动包,有的话就安装。这个驱动库有个特点,在安装新的驱动(包括通过windows update自动安装的)时,它必然会复制驱动安装包到这里,这样可以在设备管理器里删除了硬件, 然后硬件重新插入就可以自动安装驱动了.如果有的新的版本的驱动,你安装了,它不会删除或修改旧的安装包,反而会再建一个安装包,这时候那个六进制字符串就起作用了,可以用来和旧的安装包区别开来.</li>
<li>winsxs：一个超大的文件仓库，系统所在分区几乎所有的系统文件都在那里至少有一个备份。通过搜索功能在winsxs搜一下公用视频、公用图片、公用音乐文件夹里的文件，你会发现那些精简系统时已经被删除了的文件在winsxs里还可以找到影子。假如系统文件被删除或者破坏，用命令sfc /scannow就可以恢复，但如果将winsxs里面的任何一个重要的组件删除，sfc命令就会失效。系统在线更新的过程是旧版本文件被新版本的取代，旧文件自动备份在winsxs里；卸载补丁的过程是系统新版本文件被旧版本的取代，而旧版本文件的来源正是winsxs。只有ManifestCache和Temp两个文件夹里的缓存文件才可以安全删除</li>
</ul>
<p>pnf是.inf文件的预编译文件，如果没有.pnf文件，.inf文件运行时会自动建立相应的.pnf文件。因此，所有.pnf文件都可以删除</p>
<p>然后打开上述3个文件夹，然后搜</p>
<p>删除C:\Windows\System32\DriverStore\FileRepository和C\windows\winsxs中的文件夹，C\windows\inf中的文件。</p>
<p>ati.inf       (A卡驱动文件)</p>
<p>nv.inf        (N卡驱动文件)</p>
<p>brmf.inf</p>
<p>mdm.inf   (调制解调器，电话线接在电脑上，通过拨打电话号码的方式进行数据传输)</p>
<p>ph3.inf</p>
<p>ph6.inf</p>
<p>wia.inf</p>
<p>prn.inf(打印机驱动)</p>
<p>然后inf文件夹中的prnms002文件不能删除，删除的时候如果反应慢可刷新或等待。</p>
<pre><code>FileRepository中的两个prnms001和一个prnms002文件夹不能删除。

winsxs中的两个prnms002文件夹不能删除！
</code></pre><p>第六步：安装系统补丁！</p>
<p>到IT天空下载最新的补丁！</p>
<p>第七步：用相关软件精简清理系统以及优化！</p>
<p>powercfg -h off    //cmd,去除win7的休眠！</p>
<p>windows更新清理工具。按照默认的推荐系统更新安装文件不删除！其他删除。更新记录缓冲删除。</p>
<p>DISM++清理中的空间回收,除了过期的metro应用全选删除。</p>
<p>win7瘦身秘书。去掉设置支持开发。除了windows media central 其他的全选清除！</p>
<p>封装辅助—减肥优化工具。选择清理，全选。执行。然后点击优化，去掉桌面显示IE选项，执行！</p>
<p>软媒清理大师，全选。清理！分析磁盘占用，删除winre.wim(系统恢复)，datastore.edb。</p>
<p>压缩winsxs：右键winsxs文件夹—属性—高级—选中“压缩内容以便节省磁盘空间”—确定。</p>
<p>软媒优化大师，一键优化！关闭一些启动项！然后运行-&gt;msconfig，查看启动项。</p>
<p>软媒美化大师，按照自己的喜好进行设置！破解主题！</p>
<p>win7注册表优.bat执行。注册表优化！</p>
<p>然后右击C盘属性。整理碎片！配置计划中关闭磁盘碎片整理计划！</p>
<p>重启！最后检查。还原自己想要得！</p>
<p>系统配置工具，优化网络项，优化项，其他项，oem信息(厂商信息等)！按照自己的喜好进行。</p>
<p>系统配置工具，去掉其他项的勾，只将转移项设置。把用户文档转到D:\Documents，然后收藏夹转移到D:\Documents对应的目录。然后执行。然                                                                    </p>
<p> 后删除掉收藏夹里面的东西。</p>
<p>参考：</p>
<p>C:\Windows\Web\Wall*** (Windows自带墙纸)推荐转移。</p>
<p>C:\Boot (13.3M) 这个里面是不同语言的Windows启动界面，除 zh-CN 外均可删除。</p>
<p>C:\perflogs\System\Diagnostics (9.39M) 这个是系统测试之后的测试记录文件存放处，删除。</p>
<p>C:\Windows\Downloaded Program Files 有一些程序安装的时候会把安装文件解压至此文件夹里面。可以安全删除，几十M到几百M不等。</p>
<p>C:\Windows\Help (66.7M) 可以删除。</p>
<p>C:\Windows\Installer 下，已安装程序的卸载修改时所需程序，如果删除了，有些程序卸载和修改就会有问题。</p>
<p>C:\Windows\winsxs 不能删除，但是可以压缩，压缩后大小为2.48G。节省空间近1G，系统文件，总大小3.22G(个人建议这个不要动)</p>
<p>C:\Windows\winsxs\Backup (备份文件,占用354MB)，删除后更新SP补丁可能会导致失败。</p>
<p>C:\ProgramData 一些程序安装时会放一些文件到这里面，看需要删除，里面的安装文件 exe、msi，可以删除，但是有些是软件运行时需要的文件，不能乱删。</p>
<p>　　1.C:\Windows\IME\IMESC5 (使用第三方输入法的可以删除)</p>
<p>　　微软拼音输入法(74.5M)可留</p>
<p>　　C:\Windows\IME\IMEJP10</p>
<p>　　日文输入法(37.8M) 删除</p>
<p>　　C:\Windows\IME\imekr8</p>
<p>　　韩文输入法(2.86M) 删除</p>
<p>　　C:\Windows\IME\IMETC10</p>
<p>　　繁中输入法(21.6M) 删除</p>
<p>　　C:\Windows\System32\IME 下 也会有这几项输入法，删除方法同上</p>
<p>　　“C:\Windows\System32\IME\IMESC5”</p>
<p>　　“C:\Windows\System32\IME\***X”</p>
<p>　 2.C:\Program Files\Microsoft Games 系统自带游戏，不玩的可以删除掉，删除自带游戏的方法如下：</p>
<p>　　开始-控制面板-程序-打开或关闭Windows功能，找到游戏，点加号展开，去掉你想删除的游戏前面的对勾，然后确定，即可，同时可以关闭的功能有 Tablet PC可选组件/ Windows DFS服务/ 打印服务/ Windows传真和扫描/ Windows会议室/ 远程差分压缩，如需打开IIS，在这里打开Internet信息服务即可。</p>
<p>　　以下这些删不删随便：</p>
<p>　　C:\Program Files\Microsoft Games 这里面的游戏看需求</p>
<p>　　3.C:\Users\Public (可以删除)</p>
<p>　　所有用户公用文件夹，里面有一些示例图片、视频等，可以删除(217M)，其中 C:\Users\Public\Recorded TV\Sample Media 为 Windows Media Center 的示例电视录制文件(143M)，C:\Users\Public\Music\Sample Music 为 示例音乐(59M)。</p>
<p>　　修改注册表加快Windows 7 系统开机速度</p>
<p>　　1)运行 regedit 进入注册表。</p>
<p>　　2)依次打开到：HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management\PrefetchParameters</p>
<p>　　3)在右边“EnablePrefetcher”主键，把它的默认值由 3 改为 0。</p>
<p>　  4)重启计算机</p>
<p>　　修改注册表加快Windows 7 系统关机速度</p>
<p>　　1)运行 regedit 进入注册表。</p>
<p>　　2)HKEY_CURRENT_USERControl\PanelDesktop，把“AutoEndTasks”的键值设置为 1 即可。</p>
<p>　　3)然后再修改“HungAppTimeout”为“4000(或更小)”(预设为 5000)，该键值同样也在“HKEY_CURRENT_USERControl PanelDesktop”下;最后一步再找到“HKEY_LOCAL_MACHINESystemCurrentControlSetControl”，同样把 WaitToKillServiceTimeout 设置为“4000”;</p>
<p>　　去掉菜单延迟</p>
<p>　　去掉菜单弹出时的延迟，可以在一定程度上加快Window7。要修改的键值位置在“HKEY_CURRENT_USERControl PanelDesktop”。修改其下的“MenuShowDelay”键，把默认的 400 修改为 0，按F5刷新注册表，重启即可生效。</p>
<p>　　缩短关闭应用程序与进程前的等待时间</p>
<p>　　与关闭服务前的等待时间类似，Windows Vista在强行关闭应用程序与进程前同样有一段等待该程序或进程自行关闭的时间，只有超过该时限后，Windows系统才会将其强行中止。因此，缩短默认关闭应用程序或进行等待时间，同样能够加快Windows 7的关机速度。</p>
<p>　　设置方法同上面类似，在注册表中找到如下分支：HKEY_CURRENT_USER\Control Panel\Desktop，双击右侧面板中的“WaitToKillAppTimeout” ，将其值从默认的 20000(单位同样为毫秒)修改为较小的 5000 或 1000，这样，Windows在发出关机指令后如果等待5秒或1秒仍未收到某个应用程序或进行的关闭信号，将弹出相应的警告信号，并询问用户是否强行中止。</p>
<p>第八步：安装所需软件。</p>
<ul>
<li>绿色的解压到C盘相应的目录绿化创建快捷方式可行！</li>
<li>绿色的解压到相应目录不了绿化可行！</li>
<li>绿色的解压到相应目录不了绿化直接创建快捷方式可行！</li>
<li>自己已经安装的官方软件放在默认路径可行！</li>
<li>安装包加静默参数！</li>
</ul>
<p>先删除网卡！桌面右下角的弹出即可！</p>
<p>把安装的软件设置自己的偏好设置，如果系统是自己用的，还可以将软件登陆上自己的账户！</p>
<p>然后设置自己的默认输入法！</p>
<p>如果更新了IE重启！</p>
<p>运行gpedit.msc。用户配置\管理模版\windows组件\IE\禁止更改主页设置。然后启动，在下面输入自己的主页。</p>
<p>浏览器桌面快捷方式-&gt;属性和所有程序中的浏览器-&gt;属性。在目标后面加上自己想绑定的主页。然后解锁在任务栏中的快捷方式。即可绑定成功！</p>
<p>第九步：再次对系统进行清理和磁盘清理！</p>
<p>重复步骤7</p>
<p>删除C:\perflogs(临时用户)文件夹</p>
<p>用7Z极限压缩D:\Documents文档。然后放到C:\sysprep文件夹中！</p>
<p>第十步：用ES4封装和系统恢复测试。(封装前关闭安全软件)</p>
<p>更换虚拟机的挂载iso，挂载成pe.iso。</p>
<p>然后把万能驱动和部署中要用到的图片和激活工具放在C:\sysprep文件夹中！</p>
<p>用FormCeo制作.exe的自解压文件放在C:\sysprep文件夹！</p>
<p>把激活工具可以直接放在桌面，为了能够部署完成之后在桌面打开工具立即激活。也是为了防止部署完之后C:\sysprep文件夹被删除了。</p>
<p>打开ES4，然后更改注册到的用户和组织。网络配置向导换成家庭，跳过配置无线网络。下一步，开始。完成第一阶段以后重启进入PE。</p>
<p>进入PE，PE的版本要新！</p>
<p>定制自己的信息，背景图片！</p>
<p>添加部署中和部署前以及部署后以及首次进入桌面的程序 。</p>
<ul>
<li>自解压文件在部署前调用！</li>
<li>其中IT万能驱动在部署中调用！</li>
<li>激活工具在部署后调用，如果有要加上静默参数！并且不提示！</li>
<li>自己的软件在首次进入桌面中调用</li>
<li>批处理用于在首次进入桌面中调用，用于删除放在桌面的文件夹！</li>
</ul>
<p>压缩PF目录。</p>
<p>然后进入到部署！</p>
<p>第十一步：用Easy Image X，创建一个极限压缩的.wim文件，这个便是封装成果！</p>
<p>然后重启便可进入到部署阶段！</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_one.png" alt=""></p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_two.png" alt=""></p>
<hr>
<p>静默安装参数：</p>
<p>进入到cmd里面，切换到工作路径到软件安装包。</p>
<p>静默安装参数：软件名称.exe /s     如果必须有空格，请用“ ”。</p>
<p>用微软官方清理winsxs</p>
<p>dism /online /Cleanup-Image /StartComponentCleanup /ResetBase</p>
<p><img src="/2016/08/18/e7-b3-bb-e7-bb-9f-e5-b0-81-e8-a3-85/zdkit.ticp.io/wp-content/uploads/2016/08/c3b11db1e9fb998b2652574efd7f9620_3655c4b456a0dc773515250176dcecc5.png" alt=""></p>
<p>出现这个不安装！不要提醒我</p>
<p> ImageX 的多映像叠加功能了。所谓映像叠加（又叫“增量备份”），就是在同一个映像文件中可以同时存放多个子映像，例如Win7的安装文件install.wim中一般就包含了家庭基础版、家庭高级版、专业版、旗舰版四个子映像。最妙的地方，就是相同文件只占一次体积，所以四个Win7映像并没有占用4个Win7的体积。</p>
<p>win10封装注意：</p>
<p>删除系统所有自带应用与应用商店，方法为：</p>
<p>点击任务栏中的搜索，输入PowerShell，然后在搜索结果中右键单击PowerShell，选择以管理员身份运行。</p>
<p>输入命令：Get-AppXPackage | Remove-AppxPackage</p>
<p>执行命令后将删除WIN10自带所有应用，包括应用商店，应用商店部署后会重新安装，而且不影响使用。</p>
<p>这一步非常重要，如果你想保留WIN10原汁原味的应用，切记需要在断网情况下封装，不然应用商店会自动更新与安装新应用，将封装失败</p>
<p>因为1511母盘安装后会有累积更新，在这里我遇到了两次封装失败。一次是在补丁更新前在策略组中禁用了Windows Defender，一次是在所有补丁安装好后才进行DISM++清理。后来反复测试后发现，在补丁更新前关闭Windows Defender将导致Windows Defender一个补丁无法安装，而第二次遇到的问题只要补丁未安装前进行DISM++，补丁安装后再进行一次DISM++就可以避免出现封装错误，进行二次清理后就可以在策略里面禁用Windows Defender了，方法为运行gpedit.msc在计算机配置-管理模板-Windows组件-关闭 Windows Defender设置为已启用，在这里将会遇到一个小小BUG，运行gpedit.msc会提示一个文件报错，只要删除C:\Windows\PolicyDefinitions中的WindowsStore.admx文件就可以了，删除文件需要获取权限，获取方法我就不表了，搜索下论坛就可以了。</p>
<p>封装前要注意把Windows Firewall与Security Center这两个服务打开，否则将导致部署完成后开始菜单与应用商店无法打开。</p>
<p>封装前一定要关闭IE-安全中的保护模式，不然部署后IE会无限崩溃假死，这个问题折腾我最久。</p>
<p>更换用户以后启用管理员批准模式</p>
<p>开始–运行，输入：gpedit.msc回车，双击本地计算机策略的【windows设置】–安全设置–本地策略–安全选项–双击【用户账户控制：用于内置管理员账户的管理员批准模式】，点击启用。</p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/08/15/e5-bf-bd-e7-84-b6-e4-b9-8b-e9-97-b4-e5-8f-91-e7-8e-b0/" rel="next" title="忽然之间发现">
                <i class="fa fa-chevron-left"></i> 忽然之间发现
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/08/19/e5-8d-81-e4-ba-8c-e6-9c-88-e7-ba-a6-e6-88-98/" rel="prev" title="十二月约战">
                十二月约战 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">49</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
